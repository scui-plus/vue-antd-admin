(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a999ee5"],{"0214":function(e,t,n){"use strict";n("428a")},"054c":function(e,t,n){"use strict";n("3f17")},"09d0":function(e,t,n){},"129f":function(e,t,n){"use strict";e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}},"3f17":function(e,t,n){},"428a":function(e,t,n){},"4cf8":function(e,t,n){"use strict";n("c20d")},"72bc":function(e,t,n){},"841c":function(e,t,n){"use strict";var a=n("c65b"),s=n("d784"),i=n("825a"),c=n("7234"),o=n("1d80"),r=n("129f"),l=n("577e"),u=n("dc4a"),d=n("14c3");s("search",(function(e,t,n){return[function(t){var n=o(this),s=c(t)?void 0:u(t,e);return s?a(s,t,n):new RegExp(t)[e](l(n))},function(e){var a=i(this),s=l(e),c=n(t,a,s);if(c.done)return c.value;var o=a.lastIndex;r(o,0)||(a.lastIndex=0);var u=d(a,s);return r(a.lastIndex,o)||(a.lastIndex=o),null===u?-1:u.index}]}))},a838:function(e,t,n){"use strict";n("09d0")},c20d:function(e,t,n){},c7cd:function(e,t,n){"use strict";var a=n("23e7"),s=n("857a"),i=n("af03");a({target:"String",proto:!0,forced:i("fixed")},{fixed:function(){return s(this,"tt","","")}})},d166:function(e,t,n){"use strict";n.r(t);n("99af");var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"table"},[t("advance-table",{attrs:{columns:e.columns,"data-source":e.dataSource,title:"高级表格-Beta",loading:e.loading,rowKey:"id","format-conditions":!0,pagination:{current:e.page,pageSize:e.pageSize,total:e.total,showSizeChanger:!0,showLessItems:!0,showQuickJumper:!0,showTotal:function(e,t){return"第 ".concat(t[0],"-").concat(t[1]," 条，总计 ").concat(e," 条")},onChange:e.onPageChange,onShowSizeChange:e.onSizeChange}},on:{search:e.onSearch,refresh:e.onRefresh,reset:e.onReset},scopedSlots:e._u([{key:"send",fn:function(t){var n=t.text;return[e._v(" "+e._s(n?"是":"否")+" ")]}},{key:"status",fn:function(t){var n=t.text;return[e._v(" "+e._s(e._f("statusStr")(n))+" ")]}}])},[t("template",{slot:"statusTitle"},[e._v(" 状态"),t("a-icon",{staticStyle:{margin:"0 4px"},attrs:{type:"info-circle"}})],1)],2),t("api")],1)},s=[],i=n("5530"),c=function(){var e=this,t=e._self._c;return t("div",{ref:"table",staticClass:"advanced-table",attrs:{id:e.id}},[t("a-spin",{attrs:{spinning:e.loading}},[t("div",{class:["header-bar",e.size]},[t("div",{staticClass:"title"},[e.title?[e._v(e._s(e.title))]:e.$slots.title?e._t("title"):[e._v("高级表格")]],2),t("div",{staticClass:"search"},[t("search-area",{attrs:{"format-conditions":e.formatConditions,columns:e.columns},on:{change:e.onSearchChange}},[e._l(e.slots,(function(n){return t("template",{slot:n},[e._t(n)],2)}))],2)],1),t("div",{staticClass:"actions"},[t("a-tooltip",{attrs:{title:"刷新"}},[t("a-icon",{staticClass:"action",attrs:{type:e.loading?"loading":"reload"},on:{click:e.refresh}})],1),t("action-size",{staticClass:"action",model:{value:e.sSize,callback:function(t){e.sSize=t},expression:"sSize"}}),t("a-tooltip",{attrs:{title:"列配置"}},[t("action-columns",{staticClass:"action",attrs:{columns:e.columns},on:{reset:e.onColumnsReset}},[e._l(e.slots,(function(n){return t("template",{slot:n},[e._t(n)],2)}))],2)],1),t("a-tooltip",{attrs:{title:"全屏"}},[t("a-icon",{staticClass:"action",attrs:{type:e.fullScreen?"fullscreen-exit":"fullscreen"},on:{click:e.toggleScreen}})],1)],1)]),t("a-table",e._b({attrs:{size:e.sSize},on:{expandedRowsChange:e.onExpandedRowsChange,change:e.onChange,expand:e.onExpand},scopedSlots:e._u([e._l(e.scopedSlots,(function(t){return{key:t,fn:function(n,a,s){return[e._t(t,null,null,{text:n,record:a,index:s})]}}})),{key:e.$scopedSlots.expandedRowRender?"expandedRowRender":"",fn:function(t,n,a,s){return[e._t(e.$scopedSlots.expandedRowRender?"expandedRowRender":"",null,null,{record:t,index:n,indent:a,expanded:s})]}}],null,!0)},"a-table",Object(i["a"])(Object(i["a"])({},e.$props),{},{columns:e.visibleColumns,title:void 0,loading:!1}),!1),[e._l(e.slots,(function(n){return t("template",{slot:n},[e._t(n)],2)}))],2)],1)],1)},o=[],r=(n("4de4"),n("a9e3"),n("b64b"),n("d3b7"),n("0643"),n("2382"),function(){var e=this,t=e._self._c;return t("div",{ref:"root",staticClass:"action-size"},[t("a-tooltip",{attrs:{title:"密度"}},[t("a-dropdown",{attrs:{placement:"bottomCenter",trigger:["click"],"get-popup-container":function(){return e.$refs.root}}},[t("a-icon",{staticClass:"action",attrs:{type:"column-height"}}),t("a-menu",{attrs:{slot:"overlay","selected-keys":[e.value]},on:{click:e.onClick},slot:"overlay"},[t("a-menu-item",{key:"default"},[e._v(" 默认 ")]),t("a-menu-item",{key:"middle"},[e._v(" 中等 ")]),t("a-menu-item",{key:"small"},[e._v(" 紧密 ")])],1)],1)],1)],1)}),l=[],u={name:"ActionSize",props:["value"],inject:["table"],data:function(){return{selectedKeys:["middle"]}},methods:{onClick:function(e){var t=e.key;this.$emit("input",t)}}},d=u,h=(n("4cf8"),n("2877")),f=Object(h["a"])(d,r,l,!1,null,"14609956",null),p=f.exports,m=(n("c7cd"),function(){var e=this,t=e._self._c;return t("div",{ref:"root",staticClass:"action-columns"},[t("a-popover",{attrs:{placement:"bottomRight",trigger:"click","get-popup-container":function(){return e.$refs.root}},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[t("div",{attrs:{slot:"title"},slot:"title"},[t("a-checkbox",{staticClass:"check-all",attrs:{indeterminate:e.indeterminate,checked:e.checkAll},on:{change:e.onCheckAllChange}}),e._v("列展示 "),t("a-button",{staticStyle:{float:"right"},attrs:{type:"link",size:"small"},on:{click:e.resetColumns}},[e._v("重置")])],1),e._l(e.columns,(function(n,a){return t("a-list",{key:a,staticStyle:{width:"100%"},attrs:{slot:"content",size:"small"},slot:"content"},[t("a-list-item",[t("a-checkbox",{on:{change:function(t){return e.onCheckChange(t,n)}},model:{value:n.visible,callback:function(t){e.$set(n,"visible",t)},expression:"col.visible"}}),n.title?[e._v(" "+e._s(n.title)+": ")]:n.slots&&n.slots.title?e._t(n.slots.title):e._e(),t("template",{slot:"actions"},[t("a-tooltip",{attrs:{title:"固定在列头",mouseEnterDelay:.5,"get-popup-container":function(){return e.$refs.root}}},[t("a-icon",{class:["left",{active:"left"===n.fixed}],attrs:{type:"vertical-align-top"},on:{click:function(t){return e.fixColumn("left",n)}}})],1),t("a-tooltip",{attrs:{title:"固定在列尾",mouseEnterDelay:.5,"get-popup-container":function(){return e.$refs.root}}},[t("a-icon",{class:["right",{active:"right"===n.fixed}],attrs:{type:"vertical-align-bottom"},on:{click:function(t){return e.fixColumn("right",n)}}})],1),t("a-tooltip",{attrs:{title:"添加搜索",mouseEnterDelay:.5,"get-popup-container":function(){return e.$refs.root}}},[t("a-icon",{class:{active:n.searchAble},attrs:{type:"search"},on:{click:function(t){return e.setSearch(n)}}})],1)],1)],2)],1)})),t("a-icon",{staticClass:"action",attrs:{type:"setting"}})],2)],1)}),v=[],b=n("b85c"),g=(n("ac1f"),n("841c"),n("4e3e"),n("159b"),n("cd3f")),C=n.n(g),k={name:"ActionColumns",props:["columns","visibleColumns"],data:function(){return{visible:!1,indeterminate:!1,checkAll:!0,checkedCounts:this.columns.length,backColumns:C()(this.columns)}},watch:{checkedCounts:function(e){this.checkAll=e===this.columns.length,this.indeterminate=e>0&&e<this.columns.length},columns:function(e,t){e!=t&&(this.checkedCounts=e.length,this.formatColumns(e))}},created:function(){this.formatColumns(this.columns)},methods:{onCheckChange:function(e,t){t.visible?this.checkedCounts+=1:this.checkedCounts-=1},fixColumn:function(e,t){e!==t.fixed?this.$set(t,"fixed",e):this.$set(t,"fixed",void 0)},setSearch:function(e){this.$set(e,"searchAble",!e.searchAble),!e.searchAble&&e.search&&this.resetSearch(e)},resetSearch:function(e){e.search.value=void 0,e.search.backup=void 0},resetColumns:function(){var e=this,t=this.columns,n=this.backColumns,a=t.length;n.forEach((function(n,s){var i=t[s];i.visible=void 0===n.visible||n.visible,i.visible||(a-=1),void 0!==n.fixed?i.fixed=n.fixed:e.$set(i,"fixed",void 0),e.$set(i,"searchAble",n.searchAble),e.resetSearch(i)})),this.checkedCounts=a,this.visible=!1,this.$emit("reset",this.getConditions(t))},onCheckAllChange:function(e){e.target.checked?(this.checkedCounts=this.columns.length,this.columns.forEach((function(e){return e.visible=!0}))):(this.checkedCounts=0,this.columns.forEach((function(e){return e.visible=!1})))},getConditions:function(e){var t={};return e.filter((function(e){return void 0!==e.search.value&&""!==e.search.value&&null!==e.search.value})).forEach((function(e){t[e.dataIndex]=e.search.value})),t},formatColumns:function(e){var t,n=Object(b["a"])(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;void 0===a.visible&&this.$set(a,"visible",!0),a.visible||(this.checkedCounts-=1)}}catch(s){n.e(s)}finally{n.f()}}}},y=k,S=(n("d83b"),Object(h["a"])(y,m,v,!1,null,"05c987a8",null)),_=S.exports,x=function(){var e=this,t=e._self._c;return t("div",{ref:"root",staticClass:"search-area"},[t("div",{ref:"selectRoot",staticClass:"select-root"}),e._l(e.searchCols,(function(n,a){return t("div",{key:a,staticClass:"search-item"},["boolean"===n.dataType?t("div",{class:["title",{active:void 0!==n.search.value}]},[n.title?[e._v(" "+e._s(n.title)+": ")]:n.slots&&n.slots.title?e._t(n.slots.title):e._e(),t("a-switch",{staticClass:"switch",attrs:{size:"small","checked-children":n.search.switchOptions&&n.search.switchOptions.checkedText||"是","un-checked-children":n.search.switchOptions&&n.search.switchOptions.uncheckedText||"否"},on:{change:function(t){return e.onSwitchChange(n)}},model:{value:n.search.value,callback:function(t){e.$set(n.search,"value",t)},expression:"col.search.value"}}),void 0!==n.search.value?t("a-icon",{staticClass:"close",attrs:{type:"close-circle",theme:"filled"},on:{click:function(t){return e.onCloseClick(t,n)}}}):e._e()],2):"time"===n.dataType?t("div",{class:["title",{active:n.search.value}]},[n.title?[e._v(" "+e._s(n.title)+": ")]:n.slots&&n.slots.title?e._t(n.slots.title):e._e(),t("a-time-picker",{staticClass:"time-picker",attrs:{format:n.search.format,placeholder:"选择时间",size:"small","get-popup-container":function(){return e.$refs.root}},on:{change:function(t,a){return e.onCalendarChange(t,a,n)},openChange:function(t){return e.onCalendarOpenChange(t,n)}},model:{value:n.search.value,callback:function(t){e.$set(n.search,"value",t)},expression:"col.search.value"}})],2):"date"===n.dataType?t("div",{class:["title",{active:n.search.value}]},[n.title?[e._v(" "+e._s(n.title)+": ")]:n.slots&&n.slots.title?e._t(n.slots.title):e._e(),t("a-date-picker",{staticClass:"date-picker",attrs:{format:n.search.format,size:"small",getCalendarContainer:function(){return e.$refs.root}},on:{change:function(t){return e.onDateChange(n)}},model:{value:n.search.value,callback:function(t){e.$set(n.search,"value",t)},expression:"col.search.value"}})],2):"datetime"===n.dataType?t("div",{staticClass:"title datetime active"},[n.title?[e._v(" "+e._s(n.title)+": ")]:n.slots&&n.slots.title?e._t(n.slots.title):e._e(),t("a-date-picker",{staticClass:"datetime-picker",attrs:{format:n.search.format,size:"small","show-time":"",getCalendarContainer:function(){return e.$refs.root}},on:{change:function(t,a){return e.onCalendarChange(t,a,n)},openChange:function(t){return e.onCalendarOpenChange(t,n)}},model:{value:n.search.value,callback:function(t){e.$set(n.search,"value",t)},expression:"col.search.value"}})],2):"select"===n.dataType?t("div",{class:["title",{active:void 0!==n.search.value}]},[n.title?[e._v(" "+e._s(n.title)+": ")]:n.slots&&n.slots.title?e._t(n.slots.title):e._e(),t("a-select",{staticClass:"select",attrs:{slot:"content",allowClear:!0,options:n.search.selectOptions,placeholder:"请选择...",size:"small","get-popup-container":function(){return e.$refs.selectRoot}},on:{change:function(t){return e.onSelectChange(n)}},slot:"content",model:{value:n.search.value,callback:function(t){e.$set(n.search,"value",t)},expression:"col.search.value"}})],2):t("div",{class:["title",{active:n.search.value}]},[t("a-popover",{attrs:{placement:"bottom",trigger:["click"],"get-popup-container":function(){return e.$refs.root}},on:{visibleChange:function(t){return e.onVisibleChange(n,a)}},model:{value:n.search.visible,callback:function(t){e.$set(n.search,"visible",t)},expression:"col.search.visible"}},[n.title?[e._v(" "+e._s(n.title)+" ")]:n.slots&&n.slots.title?e._t(n.slots.title):e._e(),n.search.value?t("div",{staticClass:"value"},[e._v(":  "+e._s(n.search.format&&"function"===typeof n.search.format?n.search.format(n.search.value):n.search.value))]):e._e(),n.search.value?e._e():t("a-icon",{staticClass:"icon-down",attrs:{type:"down"}}),t("div",{staticClass:"operations",attrs:{slot:"content"},slot:"content"},[t("a-button",{staticClass:"btn",attrs:{size:"small",type:"link"},on:{click:function(t){return e.onCancel(n)}}},[e._v("取消")]),t("a-button",{staticClass:"btn",attrs:{size:"small",type:"primary"},on:{click:function(t){return e.onConfirm(n)}}},[e._v("确认")])],1),t("div",{staticClass:"search-overlay",attrs:{slot:"title"},slot:"title"},[t("a-input",{attrs:{id:"".concat(e.searchIdPrefix).concat(a),"allow-clear":!0,size:"small"},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.onCancel(n)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onConfirm(n)}]},model:{value:n.search.value,callback:function(t){e.$set(n.search,"value",t)},expression:"col.search.value"}})],1)],2),n.search.value?t("a-icon",{staticClass:"close",attrs:{type:"close-circle",theme:"filled"},on:{click:function(t){return e.onCloseClick(t,n)}}}):e._e()],1)])}))],2)},w=[],A=(n("d81d"),n("b0c0"),n("a573"),n("694b")),O=n.n(A),$=n("c1df"),E=n.n($),z={name:"SearchArea",props:["columns","formatConditions"],inject:["table"],created:function(){this.formatColumns(this.columns)},watch:{columns:function(e,t){e!=t&&this.formatColumns(e)},searchCols:function(e,t){if(e.length!=t.length){var n=this.getConditions(e),a=this.getSearchOptions(e);O()(n,this.conditions)||(this.conditions=n,this.searchOptions=a,this.$emit("change",this.conditions,this.searchOptions))}}},data:function(){return{conditions:{},searchOptions:[]}},computed:{searchCols:function(){return this.columns.filter((function(e){return e.searchAble}))},searchIdPrefix:function(){return this.table.id+"-ipt-"}},methods:{onCloseClick:function(e,t){e.preventDefault(),e.stopPropagation(),t.search.value=void 0;var n=t.search,a=n.backup,s=n.value;a!==s&&this.backupAndEmitChange(t)},onCancel:function(e){e.search.value=e.search.backup,e.search.visible=!1},onConfirm:function(e){var t=e.search,n=t.backup,a=t.value;e.search.visible=!1,n!==a&&this.backupAndEmitChange(e)},onSwitchChange:function(e){var t=e.search,n=t.backup,a=t.value;n!==a&&this.backupAndEmitChange(e)},onSelectChange:function(e){this.backupAndEmitChange(e)},onCalendarOpenChange:function(e,t){t.search.visible=e;var n=this.momentEqual,a=this.backupAndEmitChange,s=t.search,i=s.value,c=s.backup,o=s.format;e||n(i,c,o)||a(t,E()(i))},onCalendarChange:function(e,t,n){var a=this.momentEqual,s=this.backupAndEmitChange,i=n.search,c=i.value,o=i.backup,r=i.format;n.search.visible||a(c,o,r)||s(n,E()(c))},onDateChange:function(e){var t=this.momentEqual,n=this.backupAndEmitChange,a=e.search,s=a.value,i=a.backup,c=a.format;t(s,i,c)||n(e,E()(s))},getFormat:function(e){if(e.search&&e.search.format)return e.search.format;var t=e.dataType;switch(t){case"time":return"HH:mm:ss";case"date":return"YYYY-MM-DD";case"datetime":return"YYYY-MM-DD HH:mm:ss";default:return}},backupAndEmitChange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.search.value,n=this.getConditions,a=this.getSearchOptions;e.search.backup=t,this.conditions=n(this.searchCols),this.searchOptions=a(this.searchCols),this.$emit("change",this.conditions,this.searchOptions)},getConditions:function(e){var t=this,n={};return e.filter((function(e){return void 0!==e.search.value&&""!==e.search.value&&null!==e.search.value})).forEach((function(e){var a=e.search,s=a.value,i=a.format;t.formatConditions&&i?"function"===typeof i?n[e.dataIndex]=i(e.search.value):"string"===typeof i&&"Moment"===s.constructor.name?n[e.dataIndex]=s.format(i):n[e.dataIndex]=s:n[e.dataIndex]=s})),n},getSearchOptions:function(e){return e.filter((function(e){return void 0!==e.search.value&&""!==e.search.value&&null!==e.search.value})).map((function(e){var t=e.dataIndex,n=e.search;return{field:t,value:n.value,format:n.format}}))},onVisibleChange:function(e,t){var n=this;if(e.search.visible){var a=document.getElementById("".concat(this.searchIdPrefix).concat(t));a?setTimeout((function(){a.focus()}),0):this.$nextTick((function(){a=document.getElementById("".concat(n.searchIdPrefix).concat(t)),a.focus()}))}else e.search.value=e.search.backup},momentEqual:function(e,t,n){return e===t||!(!e||!t||e.format(n)!==t.format(n))},formatColumns:function(e){var t=this;e.forEach((function(e){t.$set(e,"search",Object(i["a"])(Object(i["a"])({},e.search),{},{visible:!1,value:void 0,format:t.getFormat(e)}))}))}}},T=z,L=(n("f366"),Object(h["a"])(T,x,w,!1,null,"7ba4b68e",null)),R=L.exports,I={name:"AdvanceTable",components:{SearchArea:R,ActionColumns:_,ActionSize:p},props:{tableLayout:String,bordered:Boolean,childrenColumnName:{type:String,default:"children"},columns:Array,components:Object,dataSource:Array,defaultExpandAllRows:Array[String],expandedRowKeys:Array[String],expandedRowRender:Function,expandIcon:Function,expandRowByClick:Boolean,expandIconColumnIndex:Number,footer:Function,indentSize:Number,loading:Boolean,locale:Object,pagination:[Object,Boolean],rowClassName:Function,rowKey:[String,Function],rowSelection:Object,scroll:Object,showHeader:{type:Boolean,default:!0},size:String,title:String,customHeaderRow:Function,customRow:Function,getPopupContainer:Function,transformCellText:Function,formatConditions:Boolean},provide:function(){return{table:this}},data:function(){return{id:"".concat((new Date).getTime(),"-").concat(Math.floor(10*Math.random())),sSize:this.size||"default",fullScreen:!1,conditions:{}}},computed:{slots:function(){return Object.keys(this.$slots).filter((function(e){return"title"!==e}))},scopedSlots:function(){return Object.keys(this.$scopedSlots).filter((function(e){return"expandedRowRender"!==e&&"title"!==e}))},visibleColumns:function(){return this.columns.filter((function(e){return e.visible}))}},created:function(){this.addListener()},beforeDestroy:function(){this.removeListener()},methods:{refresh:function(){this.$emit("refresh",this.conditions)},onSearchChange:function(e,t){this.conditions=e,this.$emit("search",e,t)},toggleScreen:function(){this.fullScreen?this.outFullScreen():this.inFullScreen()},inFullScreen:function(){var e=this.$refs.table;return e.classList.add("beauty-scroll"),e.requestFullscreen?(e.requestFullscreen(),!0):e.webkitRequestFullScreen?(e.webkitRequestFullScreen(),!0):e.mozRequestFullScreen?(e.mozRequestFullScreen(),!0):e.msRequestFullscreen?(e.msRequestFullscreen(),!0):(this.$message.warn("对不起，您的浏览器不支持全屏模式"),e.classList.remove("beauty-scroll"),!1)},outFullScreen:function(){document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),this.$refs.table.classList.remove("beauty-scroll")},onColumnsReset:function(e){this.$emit("reset",e)},onExpandedRowsChange:function(e){this.$emit("expandedRowsChange",e)},onChange:function(e,t,n,a){this.$emit("change",e,t,n,a)},onExpand:function(e,t){this.$emit("expand",e,t)},addListener:function(){document.addEventListener("fullscreenchange",this.fullScreenListener),document.addEventListener("webkitfullscreenchange",this.fullScreenListener),document.addEventListener("mozfullscreenchange",this.fullScreenListener),document.addEventListener("msfullscreenchange",this.fullScreenListener)},removeListener:function(){document.removeEventListener("fullscreenchange",this.fullScreenListener),document.removeEventListener("webkitfullscreenchange",this.fullScreenListener),document.removeEventListener("mozfullscreenchange",this.fullScreenListener),document.removeEventListener("msfullscreenchange",this.fullScreenListener)},fullScreenListener:function(e){e.target.id===this.id&&(this.fullScreen=!this.fullScreen)}}},F=I,j=(n("054c"),Object(h["a"])(F,c,o,!1,null,"010610ee",null)),D=j.exports,P=(n("93d6"),n("c7eb")),M=n("1da1"),q=n("7424"),Y=n("b775");function G(e){return H.apply(this,arguments)}function H(){return H=Object(M["a"])(Object(P["a"])().mark((function e(t){return Object(P["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Y["f"])(q["GOODS"],Y["a"].GET,t));case 1:case"end":return e.stop()}}),e)}))),H.apply(this,arguments)}function B(){return V.apply(this,arguments)}function V(){return V=Object(M["a"])(Object(P["a"])().mark((function e(){return Object(P["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Y["f"])(q["GOODS_COLUMNS"],Y["a"].GET));case 1:case"end":return e.stop()}}),e)}))),V.apply(this,arguments)}var N={goodsList:G,goodsColumns:B},K=function(){var e=this,t=e._self._c;return t("div",{staticClass:"api"},[e._m(0),t("api-table",{attrs:{"api-source":e.apiSource}}),t("api-table",{attrs:{type:"event",title:"事件","api-source":e.events}}),t("api-table",{attrs:{title:"Column","api-source":e.columnApi}}),t("api-table",{attrs:{title:"Search","api-source":e.searchApi}})],1)},J=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"introduce"},[t("h2",{staticClass:"title"},[e._v("说明")]),t("p",{staticClass:"content"},[e._v(" AdvanceTable 是基于 Ant Design Vue Table 组件封装，支持其所有 API。"),t("br"),e._v(" 主要添加了"),t("em",[e._v("列设置")]),e._v("及"),t("em",[e._v("搜索控件配置")]),e._v("的功能，可用于一些需要动态配置表格展示、动态配置搜索条件的场景。"),t("br"),e._v(" 使用方式 与 antd table 基本无异。添加了部分API，如下： ")])])}],Q=function(){var e=this,t=e._self._c;return t("a-table",{attrs:{"data-source":e.apiSource,pagination:!1}},[e.title?t("h2",{staticStyle:{margin:"0 16px 0"},attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.title))]):e._e(),t("a-table-column",{attrs:{width:"20%","data-index":"param",title:"参数"},scopedSlots:e._u([{key:"default",fn:function(n){return t("div",{domProps:{innerHTML:e._s(n)}})}}])}),t("a-table-column",{attrs:{width:"50%","data-index":"desc",title:"说明"},scopedSlots:e._u([{key:"default",fn:function(n){return t("div",{domProps:{innerHTML:e._s(n)}})}}])}),e.isApi?t("a-table-column",{attrs:{width:"15%","data-index":"type",title:"类型"},scopedSlots:e._u([{key:"default",fn:function(n){return t("div",{domProps:{innerHTML:e._s(n)}})}}],null,!1,102549752)}):e._e(),e.isApi?t("a-table-column",{attrs:{width:"15%","data-index":"default",title:"默认值"},scopedSlots:e._u([{key:"default",fn:function(n){return t("div",{domProps:{innerHTML:e._s(n)}})}}],null,!1,102549752)}):e._e(),e.isApi?e._e():t("a-table-column",{attrs:{width:"30%","data-index":"callback",title:"回调函数"},scopedSlots:e._u([{key:"default",fn:function(n){return t("div",{domProps:{innerHTML:e._s(n)}})}}],null,!1,102549752)})],1)},U=[],W=(n("caad"),{name:"ApiTable",props:{title:{type:String,default:"API"},type:{type:String,default:"api",validator:function(e){return["api","event"].includes(e)}},apiSource:Array},computed:{isApi:function(){return"api"===this.type}}}),X=W,Z=Object(h["a"])(X,Q,U,!1,null,"029d00aa",null),ee=Z.exports,te={name:"Api",components:{ApiTable:ee},data:function(){return{apiSource:[{key:0,param:'<a href="https://www.antdv.com/components/table-cn/#API" target="_blank">Ant Design Vue Table API</a>',desc:"支持 Ant Design Vue Table 组件 所有 api",type:"--",default:"--"},{key:1,param:"title",desc:"表格标题",type:"string | slot",default:"'高级表格'"},{key:2,param:"formatConditions",desc:"是否格式化搜索条件的值，格式化规则参考 <a>Search 配置</a>。\n                   <br/>false：取搜索输入控件的原值 <br/>true：取搜索输入控件格式化后的值",type:"boolean",default:"false"},{key:3,param:"columns",desc:"表格列配置，参考 <a>Column 配置</a>",type:"array",default:"--"}],events:[{key:0,param:'<a href="https://www.antdv.com/components/table-cn/#API" target="_blank">Ant Design Vue Table Events API</a>',desc:"支持 Ant Design Vue Table 所有事件",callback:"--"},{key:1,param:"search",desc:"搜索条件变化时触发",callback:"Function(conditions, searchOptions: [{field, value, format}])"},{key:2,param:"refresh",desc:"表头刷新图标点击时触发",callback:"Function(conditions, searchOptions: [{field, value, format}])"},{key:3,param:"reset",desc:"列配置重置按钮点击时触发",callback:"Function(conditions, searchOptions: [{field, value, format}])"}],columnApi:[{key:0,param:'<a href="https://www.antdv.com/components/table-cn/#API" target="_blank">Ant Design Vue Table Column API</a>',desc:"支持 Ant Design Vue Table 组件 Column 配置所有 api",type:"--",default:"--"},{key:1,param:"searchAble",desc:"是否启用列搜索",type:"boolean",default:"false"},{key:2,param:"dataType",desc:"数据类型，该配置将决定列搜索输入控件的类型，与列搜索输入控件对应关系如下：<br/>\n                   string: 输入框组件<br/>\n                   boolean: 开关组件<br/>\n                   select: 下拉输入框组件<br/>\n                   date: 日期选择器<br/>\n                   time: 时间选择器<br/>\n                   datetime: 带时间选择器的日期选择器",type:"'string' | 'boolean' | 'select' | 'date' | 'time' | 'datetime'",default:"'string'"},{key:3,param:"search",desc:"列搜索配置，参考 <a>Search 配置</a>",type:"object",default:"--"}],searchApi:[{key:0,param:"format",desc:"列搜索输入控件值的格式化配置。<br/>如果输入控件支持格式化，则可设置该值为字符串，如日期输入组件，可设为为 'YYYY-MM-DD'。\n                   <br/>不支持格式化的输入控件，可设置为一个接收控件的输入值作为参数的函数，如 (value) => {return `prefix${value}`}。",type:"string | Function(value)",default:"取输入控件默认的格式化配置"},{key:1,param:"selectOptions",desc:'select 数据类型的下拉输入组件的选项配置，可参考 <a href="https://www.antdv.com/components/select-cn/#API" target="_blank">Ant Design Vue Select Option props Api</a>',type:"array",default:"--"}]}}},ne=te,ae=(n("a838"),Object(h["a"])(ne,K,J,!1,null,"6bba9377",null)),se=ae.exports,ie={name:"Table",components:{Api:se,AdvanceTable:D},filters:{statusStr:function(e){switch(e){case 1:return"已下单";case 2:return"已付款";case 3:return"已审核";case 4:return"已发货"}}},data:function(){return{loading:!1,page:1,pageSize:10,total:0,columns:[{title:"商品名称",dataIndex:"name",searchAble:!0},{title:"订单号",dataIndex:"orderId"},{searchAble:!0,dataIndex:"status",dataType:"select",slots:{title:"statusTitle"},scopedSlots:{customRender:"status"},search:{selectOptions:[{title:"已下单",value:1},{title:"已付款",value:2},{title:"已审核",value:3},{title:"已发货",value:4}]}},{title:"发货",searchAble:!0,dataIndex:"send",dataType:"boolean",scopedSlots:{customRender:"send"},search:{switchOptions:{checkedText:"开",uncheckedText:"关"}}},{title:"审核时间",dataIndex:"auditTime",dataType:"time"}],dataSource:[],conditions:{}}},created:function(){this.getGoodList(),this.getColumns()},methods:{getGoodList:function(){var e=this;this.loading=!0;var t=this.page,n=this.pageSize,a=this.conditions;N.goodsList(Object(i["a"])({page:t,pageSize:n},a)).then((function(t){var n=t.data.data,a=n.list,s=n.page,i=n.pageSize,c=n.total;e.dataSource=a,e.page=s,e.total=c,e.pageSize=i,e.loading=!1}))},getColumns:function(){var e=this;N.goodsColumns().then((function(t){e.columns=t.data}))},onSearch:function(e,t){this.page=1,this.conditions=e,this.getGoodList()},onSizeChange:function(e,t){this.page=1,this.pageSize=t,this.getGoodList()},onRefresh:function(e){this.conditions=e,this.getGoodList()},onReset:function(e){this.conditions=e,this.getGoodList()},onPageChange:function(e,t){this.page=e,this.pageSize=t,this.getGoodList()}}},ce=ie,oe=(n("0214"),Object(h["a"])(ce,a,s,!1,null,"5c6a0979",null)),re=oe.exports;t["default"]=re},d83b:function(e,t,n){"use strict";n("f4b6")},f366:function(e,t,n){"use strict";n("72bc")},f4b6:function(e,t,n){}}]);